!function(){"use strict";const e=()=>{},t=e=>"number"==typeof e&&Number.isFinite(e),n=e=>"string"==typeof e,r=Array.isArray,o=e=>"object"==typeof e&&!!e&&!r(e),a=e=>"function"==typeof e,i=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l=e=>{for(let t in e)if(i(e,t))return!1;return!0},u=e=>{let t=null;if("/"===e.charAt(0)&&("/"===e.charAt(1)?e=`https://${e}`:t=e),null===t)try{t=new URL(e).pathname}catch(n){t=e}return t},s=e=>`__duo-toolbox__-${e}`,c=s("global_variables"),d=(e,t)=>(o(window[c])||(window[c]={}),i(window[c],e)?window[c][e]:t),f=(e,t)=>{o(window[c])||(window[c]={}),window[c][e]=t},p=(e,t,n)=>{const r=t(d(e,n));return f(e,r),r},v=s("original_function"),_=s("override_version"),h=(t,n,r,l=1)=>((e,t,n,r,o=1)=>{i(window,e)&&t(window[e])?n(window[e]):p("pending_global_listeners",((a={})=>{var i;if(!a[e]){a[e]={};let n=window[e];Object.defineProperty(window,e,{get:()=>n,set:r=>{t(r)?(Object.defineProperty(window,e,{value:r,configurable:!0,enumerable:!0,writable:!0}),Object.values(a[e]).forEach((e=>e.callback(r)))):n=r},configurable:!0})}return o>(Number(null===(i=a[e][r])||void 0===i?void 0:i.version)||0)&&(a[e][r]={callback:n,version:o}),a}))})(t,a,(t=>((t,n,r,a=1)=>{var i;if(o(t)&&a>(Number(null===(i=t[n])||void 0===i?void 0:i[_])||0)){var l;const o=(null===(l=t[n])||void 0===l?void 0:l[v])||t[n]||e;t[n]=r(o),t[n][v]=o,t[n][_]=a}})(null==t?void 0:t.prototype,n,r,l)),`instance_method:${n}`,l),y=s("logging_iframe"),g=s("action_request"),m=s("action_result"),b=s("background_event_notification"),w=()=>(()=>{let e=document.getElementById(y);return e&&e.isConnected||(e=document.createElement("iframe"),e.id=y,e.style.display="none",document.body.appendChild(e)),e})().contentWindow.console,j=(...e)=>w().error(...e),O="listen",k="listenComprehension",x="listenTap",A=["characterIntro","characterMatch","characterSelect","completeReverseTranslation","definition","dialogue","form","freeResponse","gapFill","judge",O,k,x,"name","readComprehension","select","selectPronunciation","selectTranscription","speak","tapCloze","tapClozeTable","tapComplete","tapCompleteTable","tapDescribe","translate","typeCloze","typeClozeTable","typeCompleteTable"],z=[O,k,x],K=e=>{var t,n;return(null===(t=e.metadata)||void 0===t?void 0:t.source_language)||e.sourceLanguage||(null===(n=e.metadata)||void 0===n?void 0:n.learning_language)},T=e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.target_language)||e.targetLanguage||K(e)},$="none",E=Number.MAX_SAFE_INTEGER,S=Math.round(E/4),C="effect",R="tts_sentence",V="tts_word",M="unknown",q="normal",L="slow",P="audio",I="howler",U=[P,I],N="rate",F="volume",D=s("forced_setting"),B=e=>o(e)&&!!e[D],H=e=>e.value,Q=e=>({[D]:!0,value:e}),X=(e,n)=>N===e&&t(n)||F===e&&n>=0&&n<=1,G=(e,n)=>((e,t,n,r=1)=>{if(!o(e))return;const a=s(`${t}_override_version`);r>(Number(e[a])||0)&&Object.defineProperty(e,t,n(Object.getOwnPropertyDescriptor(e,t)))})(HTMLMediaElement,n,(n=>({...n,set:function(r){const o=Y[e];t(r)?(this[o.originalValueKey]=r,i(this,o.valueKey)&&(r=this[o.isRelativeKey]?te(e,r*this[o.valueKey]):this[o.valueKey])):B(r)&&(r=H(r)),t(r)&&(this[o.listenerValueKey]=r),n.set.call(this,r)}}))),W=(e,t)=>h("Howl",t,(n=>function(){const r=this,o=arguments,a=Y[e];let l=!1;const u=r._queue.length;(1===o.length||2===o.length&&void 0===o[1])&&-1===r._getSoundIds().indexOf(o[0])&&(B(o[0])?(l=!0,o[0]=H(o[0])):X(e,o[0])&&(r[a.originalValueKey]=o[0],i(r,a.valueKey)&&(l=!0,r[a.isRelativeKey]?o[0]=te(e,o[0]*r[a.valueKey]):o[0]=r[a.valueKey])),l&&(r[a.listenerValueKey]=o[0]));const s=n.apply(r,arguments);return l&&u<r._queue.length&&(r._queue[r._queue.length-1].action=function(){o[0]=Q(o[0]),r[t](...o)}),s})),J=(e,t,n,r)=>({...r,functions:{[P]:{applyOverride:()=>G(e,n),getter:e=>e[t],setter:(e,n)=>e[t]=n,hasQueuedUpdate:()=>!1},[I]:{applyOverride:()=>W(e,n),getter:e=>e[n](),setter:(e,t)=>e[n](t),hasQueuedUpdate:e=>e._queue.find((e=>e.event===n))}},priorityKey:s(`${e}_priority`),isRelativeKey:s(`${e}_is_relative`),valueKey:s(`forced_${e}_value`),originalValueKey:s(`original_${e}_value`),listenerValueKey:s(`${e}_value`)}),Y={[N]:J(N,"playbackRate","rate",{minValue:.5,maxValue:4,defaultValue:1}),[F]:J(F,"volume","volume",{minValue:0,maxValue:1,defaultValue:1})},Z=e=>{const t=Y[e];if(!t)throw new Error(`Unknown sound setting: "${e}".`);return t},ee=e=>Z(e).defaultValue,te=(e,t)=>Y[e]?Math.max(Y[e].minValue,Math.min(t,Y[e].maxValue)):t,ne=(e,t,n,r,o=!1,a=1)=>{const l=Z(e);if(a>=(Number(n[l.priorityKey])||0)){const u=te(e,t),s=((e,t)=>{if(-1===U.indexOf(t))throw new Error(`Unknown sound playback strategy: "${t}".`);return Z(e).functions[t]})(e,r);s.applyOverride(),n[l.valueKey]=u,n[l.priorityKey]=a,n[l.isRelativeKey]=o,i(n,l.originalValueKey)||(n[l.originalValueKey]=s.getter(n)),s.hasQueuedUpdate(n)||s.setter(n,Q(te(e,u*(o?n[l.originalValueKey]:1))))}},re="event_listeners",oe=()=>{return`__listener::${e="last_event_listener_id",p(`__counter::${e}__`,(e=>e+1),0)}__`;var e},ae=e=>{var t;return(null===(t=d(re,{}))||void 0===t?void 0:t[e])||{}},ie=(e,t)=>{p(re,(n=>Object.assign(n||{},{[e]:t})))},le=!l((e=>ae(e))),ue=(e,t)=>{const n=ae(e);return l(n)?null:t(Object.values(n))},se=(e,t,n=oe())=>{const r=ae(e);return r[n]=t,ie(e,r),()=>de(e,n)},ce=(e,t,n,o,a=se,i=oe())=>{const l=`__${t}::${e}__`;var u;u=l,ae(t)[u]||a(t,((...t)=>{const n=o(...t);r(n)&&fe(e,...n)}),l);const s=se(e,n,i);return()=>{s(),le(e)||de(t,l)}},de=(e,t)=>{const n=ae(e);delete n[t],ie(e,n)},fe=(e,...t)=>ue(e,(e=>e.flatMap((e=>{try{return[e(...t)]}catch(e){return[]}})))),pe="practice_session_loaded",ve="story_loaded",_e="forum_discussion_loaded",he="dictionary_lexeme_loaded",ye="sound_playback_requested",ge="sound_playback_confirmed",me="sound_playback_cancelled",be={[he]:/\/api\/1\/dictionary_page/g,[_e]:/\/comments\/([\d]+)/g,[pe]:/\/[\d]{4}-[\d]{2}-[\d]{2}\/sessions/g,[ve]:/\/api2\/stories/g,user_data_loaded:/\/[\d]{4}-[\d]{2}-[\d]{2}\/users\/[\d]+/g},we=(e,t,n=oe())=>(h("XMLHttpRequest","open",(e=>function(t,n,r,a,i){let l;for(const[e,t]of Object.entries(be))if(n.match(t)){l=e;break}return l&&ue(l,(e=>{this.addEventListener("load",(()=>{try{const t=o(this.response)?this.response:JSON.parse(this.responseText);e.forEach((e=>e(t)))}catch(e){j(e,`Could not handle the XHR result (event: ${l}): `)}}))})),e.call(this,t,n,r,a,i)})),se(e,t,n)),je=(e,t)=>({url:e,type:R,speed:q,language:t}),Oe=(e,t)=>({url:e,type:V,speed:q,language:t}),ke=Object.fromEntries(["/sounds/7abe057dc8446ad325229edd6d8fd250.mp3","/sounds/2aae0ea735c8e9ed884107d6f0a09e35.mp3","/sounds/421d48c53ad6d52618dba715722278e0.mp3","/sounds/37d8f0b39dcfe63872192c89653a93f6.mp3","/sounds/0a27c1ee63dd220647e8410a0029aed2.mp3","/sounds/a28ff0a501ef5f33ca78c0afc45ee53e.mp3","/sounds/2e4669d8cf839272f0731f8afa488caf.mp3","/sounds/f0b6ab4396d5891241ef4ca73b4de13a.mp3"].map((e=>{return[e,(t=e,{url:t,type:C,speed:q,language:null})];var t}))),xe=/\/duolingo-data\/tts\/(?<language>[a-z-_]+)\/token\//i,Ae="sound_type_map",ze=()=>d(Ae,ke),Ke=e=>{const t=ze()||{};for(const n of e)t[u(n.url)]=n;f(Ae,t)},Te="sound_detection_unregistration_callbacks",$e=(e,t,n)=>{var r;return{url:e.url,type:t,speed:(null===(r=e.speed)||void 0===r?void 0:r.value)||q,language:n}},Ee=()=>{var e,t,a,i;d(Te)||f(Te,[(i=e=>(e=>{const t=e.learningLanguage;r(e.elements)&&Ke(e.elements.map((e=>{var t;return(null==e||null===(t=e.line)||void 0===t?void 0:t.content)||(null==e?void 0:e.learningLanguageTitleContent)})).flatMap((e=>[null==e?void 0:e.audio,null==e?void 0:e.audioPrefix,null==e?void 0:e.audioSuffix])).map((e=>null==e?void 0:e.url)).filter(n).map((e=>je(e,t))))})(e),we(ve,i)),(a=e=>{var t;n((t=e).tts_url)&&Ke([je(t.tts_url,t.sentence_language)])},we(_e,a)),(t=e=>(e=>{const t=[],o=e.learning_language;n(e.tts)&&t.push(Oe(e.tts,o)),r(e.alternative_forms)&&t.push(e.alternative_forms.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>je(e,o)))),Ke(t.flat())})(e),we(he,t)),(e=e=>(e=>{const t=[];for(const u of e){var a;const e=K(u),s=T(u);if(n(u.tts)&&t.push(je(u.tts,e)),n(u.slowTts)&&t.push({url:u.slowTts,type:R,speed:L,language:e}),n(u.solutionTts)&&t.push(je(u.solutionTts,s)),r(u.choices)&&t.push(u.choices.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>Oe(e,s)))),r(u.tokens)&&t.push(u.tokens.map((e=>null==e?void 0:e.tts)).filter(n).map((t=>Oe(t,e)))),r(u.questionTokens)&&t.push(u.questionTokens.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>Oe(e,s)))),r(null===(a=u.metadata)||void 0===a?void 0:a.speakers))for(const e of u.metadata.speakers){var i,l;o(null===(i=e.tts)||void 0===i?void 0:i.tokens)&&t.push(Object.values(e.tts.tokens).filter((e=>n(e.url))).map((e=>$e(e,V,s)))),r(null===(l=e.tts)||void 0===l?void 0:l.sentence)&&t.push(e.tts.sentence.filter((e=>n(e.url))).map((e=>$e(e,R,s))))}r(u.pairs)&&t.push(u.pairs.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>Oe(e,s))))}Ke(t.flat())})(e.challenges),ce("practice_challenges_loaded",pe,e,(e=>{let t;var n;o(e)&&(t=[{challenges:[e.challenges,e.adaptiveChallenges,null===(n=e.adaptiveInterleavedChallenges)||void 0===n?void 0:n.challenges].filter(r).flat(),sessionMetaData:e.metadata||{}}]);return t}),we))])},Se=(e,t,n)=>{const r=(e=>{const t=ze()[e];if(o(t))return t;const n=e.match(xe);return n?Oe(e,n.language):null})(u(t));return{url:t,type:(null==r?void 0:r.type)||M,speed:(null==r?void 0:r.speed)||q,language:null==r?void 0:r.language,playbackStrategy:n,sound:e}},Ce=(e,t)=>{h("Howl","play",(e=>function(t){var n;f("is_howler_used",!0);const r=String(this._src||(null===(n=this._parent)||void 0===n?void 0:n._src)||"").trim();return""!==r?((e,t,n,r)=>{const o=Se(e,t,n);let a=!1;try{var i;a=null===(i=fe(ye,o))||void 0===i?void 0:i.some((e=>!1===e)),fe(a?me:ge,o)}catch(e){j(e,`Could not handle playback for sound "${t}" (using "${n}"): `)}return a?null:r()})(this,r,I,(()=>e.call(this,t))):e.call(this,t)})),Ee();const n=se(e,t);return()=>{n(),(()=>{const e=d(Te);!r(e)||le("sound_initialized")||le(ye)||le(me)||le(ge)||(e.forEach((e=>e())),f(Te,null))})()}},Re="challenge",Ve="story",Me="forum_discussion",qe="dictionary",Le="unknown",Pe=/duolingo\.com\/stories\/(?<story_key>[^/]+)/,Ie=/forum\.duolingo\.com\/comment\/(?<comment_id>[\d]+)/,Ue=/duolingo\.com\/dictionary\/(?<language>.+)\/(?<lexeme>.+)\/(?<lexeme_id>[\w]+)\/?/,Ne="listening_challenge",Fe="other_challenge",De=[Ne,Fe,Ve,Me,qe,Le],Be=()=>{const e=(()=>{const e=document.location.href;let t=e.match(Ie);if(r(t))return{type:Me,commentId:Number(t.comment_id)||null};var n;if(t=e.match(Pe),r(t)||document.querySelector('[data-test="stories-element"]'))return{type:Ve,storyKey:null===(n=t)||void 0===n?void 0:n.story_key};if(t=e.match(Ue),r(t))return{type:qe,languageName:t.language,lexeme:t.lexeme,lexemeId:t.lexeme_id};const o=document.querySelector('[data-test*="challenge"]');if(o){let e=null;for(const t of(null===(a=o.getAttribute("data-test"))||void 0===a?void 0:a.split(/\s+/))||[]){var a,i;const n=null===(i=t.match(/challenge-(?<type>[a-z]+)/i))||void 0===i?void 0:i.groups.type.trim();if(A.indexOf(n)>=0){e=n;break}}let t=$;const n=document.querySelector("._2Fc1K ._1tuLI");return n&&(t=n.classList.contains("_3e9O1")?"correct":"incorrect"),{type:Re,challengeType:e,result:t,isCompleted:$!==t}}return{type:Le}})();let t=e.type;return Re===t&&(t=-1===z.indexOf(e.challengeType)?Fe:Ne),t};var He,Qe,Xe,Ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};He=function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object Object]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[o]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s[a]=s["[object Map]"]=s["[object Number]"]=s[i]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var c="object"==typeof Ge&&Ge&&Ge.Object===Object&&Ge,d="object"==typeof self&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),p=t&&!t.nodeType&&t,v=p&&e&&!e.nodeType&&e,_=v&&v.exports===p,h=_&&c.process,y=function(){try{var e=v&&v.require&&v.require("util").types;return e||h&&h.binding&&h.binding("util")}catch(e){}}(),g=y&&y.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var b,w,j,O=Array.prototype,k=Function.prototype,x=Object.prototype,A=f["__core-js_shared__"],z=k.toString,K=x.hasOwnProperty,T=(b=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",$=x.toString,E=z.call(Object),S=RegExp("^"+z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=_?f.Buffer:void 0,R=f.Symbol,V=f.Uint8Array,M=C?C.allocUnsafe:void 0,q=(w=Object.getPrototypeOf,j=Object,function(e){return w(j(e))}),L=Object.create,P=x.propertyIsEnumerable,I=O.splice,U=R?R.toStringTag:void 0,N=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),F=C?C.isBuffer:void 0,D=Math.max,B=Date.now,H=ve(f,"Map"),Q=ve(Object,"create"),X=function(){function e(){}return function(t){if(!Ae(t))return{};if(L)return L(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new W(e);this.size=t.size}function Z(e,t){var n=we(e),r=!n&&be(e),o=!n&&!r&&Oe(e),a=!n&&!r&&!o&&Ke(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=l.length;for(var s in e)!t&&!K.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_e(s,u))||l.push(s);return l}function ee(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&re(e,t,n)}function te(e,t,n){var r=e[t];K.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||re(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===n?void 0:r}return K.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:K.call(t,e)},G.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q&&void 0===t?n:t,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0||(n==t.length-1?t.pop():I.call(t,n,1),--this.size,0))},W.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},W.prototype.has=function(e){return ne(this.__data__,e)>-1},W.prototype.set=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(H||W),string:new G}},J.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return pe(this,e).get(e)},J.prototype.has=function(e){return pe(this,e).has(e)},J.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new W,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var oe,ae=function(e,t,n){for(var r=-1,o=Object(e),a=n(e),i=a.length;i--;){var l=a[oe?i:++r];if(!1===t(o[l],l,o))break}return e};function ie(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=K.call(e,U),n=e[U];try{e[U]=void 0;var r=!0}catch(e){}var o=$.call(e);return r&&(t?e[U]=n:delete e[U]),o}(e):function(e){return $.call(e)}(e)}function le(e){return ze(e)&&ie(e)==o}function ue(e){return!(!Ae(e)||function(e){return!!T&&T in e}(e))&&(ke(e)?S:l).test(function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function se(e){if(!Ae(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=he(e),n=[];for(var r in e)("constructor"!=r||!t&&K.call(e,r))&&n.push(r);return n}function ce(e,t,n,r,o){e!==t&&ae(t,(function(a,l){if(o||(o=new Y),Ae(a))!function(e,t,n,r,o,a,l){var u=ye(e,n),s=ye(t,n),c=l.get(s);if(c)ee(e,n,c);else{var d,f,p,v,_,h=a?a(u,s,n+"",e,t,l):void 0,y=void 0===h;if(y){var g=we(s),m=!g&&Oe(s),b=!g&&!m&&Ke(s);h=s,g||m||b?we(u)?h=u:ze(_=u)&&je(_)?h=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(u):m?(y=!1,h=function(e,t){if(t)return e.slice();var n=e.length,r=M?M(n):new e.constructor(n);return e.copy(r),r}(s,!0)):b?(y=!1,p=(d=s).buffer,v=new p.constructor(p.byteLength),new V(v).set(new V(p)),f=v,h=new d.constructor(f,d.byteOffset,d.length)):h=[]:function(e){if(!ze(e)||ie(e)!=i)return!1;var t=q(e);if(null===t)return!0;var n=K.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==E}(s)||be(s)?(h=u,be(u)?h=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var l=t[a],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?re(n,l,u):te(n,l,u)}return n}(e,Te(e))}(u):Ae(u)&&!ke(u)||(h=function(e){return"function"!=typeof e.constructor||he(e)?{}:X(q(e))}(s))):y=!1}y&&(l.set(s,h),o(h,s,r,a,l),l.delete(s)),ee(e,n,h)}}(e,t,l,n,ce,r,o);else{var u=r?r(ye(e,l),a,l+"",e,t,o):void 0;void 0===u&&(u=a),ee(e,l,u)}}),Te)}function de(e,t){return ge(function(e,t,n){return t=D(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=D(r.length-t,0),i=Array(a);++o<a;)i[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(i),m(e,this,l)}}(e,t,Se),e+"")}var fe=N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Se;function pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}function _e(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&u.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,n=0;return function(){var r=B(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fe);function me(e,t){return e===t||e!=e&&t!=t}var be=le(function(){return arguments}())?le:function(e){return ze(e)&&K.call(e,"callee")&&!P.call(e,"callee")},we=Array.isArray;function je(e){return null!=e&&xe(e.length)&&!ke(e)}var Oe=F||function(){return!1};function ke(e){if(!Ae(e))return!1;var t=ie(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ae(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var Ke=g?function(e){return function(t){return e(t)}}(g):function(e){return ze(e)&&xe(e.length)&&!!s[ie(e)]};function Te(e){return je(e)?Z(e,!0):se(e)}var $e,Ee=($e=function(e,t,n){ce(e,t,n)},de((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(o=$e.length>3&&"function"==typeof o?(r--,o):void 0,a&&function(e,t,n){if(!Ae(n))return!1;var r=typeof t;return!!("number"==r?je(n)&&_e(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var i=t[n];i&&$e(e,i,n,o)}return e})));function Se(e){return e}e.exports=Ee},He(Xe={path:Qe,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Xe.path)}},Xe.exports),Xe.exports;const We="default",Je="main",Ye=[F,N],Ze=e=>F===e,et=(e,t=null,n=null)=>({[C]:{[q]:t},[R]:{[q]:t,[L]:t},[V]:{[q]:t},[M]:{[q]:t},...Ze(e)?{[Je]:n}:{}}),tt=(e,t)=>Object.fromEntries([[We,et(e,{value:t,isRelative:!0},{value:t})],...De.map((t=>[t,et(e)]))]),nt=Object.fromEntries(Ye.map((e=>[e,tt(e,ee(e))]))),rt=(e,t)=>o(nt.volume.default[e][t]),ot=(e,t,n,r=!0)=>{var a,i;if(!Ze(t))return;const l=null==e||null===(a=e[t])||void 0===a||null===(i=a[null!=n?n:We])||void 0===i?void 0:i.main;return o(l)?l:null===n?ee(t):r?ot(e,t,null):null},at=(e,t,n,r,a,i=!0)=>{var l,u,s;if(!rt(n,r))return;const c=null==e||null===(l=e[t])||void 0===l||null===(u=l[null!=a?a:We])||void 0===u||null===(s=u[n])||void 0===s?void 0:s[r];return o(c)?c:null===a?ee(t):i?at(e,t,n,r,null):null},it=(e,t,n,r,o)=>{if(!rt(n,r))return;const a=at(e,t,n,r,o);if(!Ze(t))return a;const i=ot(e,t,o);return{isRelative:a.isRelative,value:i.value*a.value}};let lt=null;const ut=e=>lt=e;((e,t)=>{var n;const a=r(t)?e=>t.indexOf(e)>=0:()=>!0,i=t=>{const n=o(t.data)?t.data:t;return n&&b===n.type&&a(n.event)&&e(n.event,n.value)};"undefined"!=typeof chrome&&null!==(n=chrome.runtime)&&void 0!==n&&n.onMessage?chrome.runtime.onMessage.addListener(i):window.addEventListener("message",i)})(((e,t)=>{"current_profile_changed"===e&&ut(t)})),(async(e,t)=>new Promise(((n,r)=>{const a=t=>{t.source===window&&o(t.data)&&m===t.data.type&&e===t.data.action&&("success"===t.data.result?n(t.data.value):r(t.data.error),t.stopPropagation(),window.removeEventListener("message",a))};window.addEventListener("message",a),window.postMessage({type:g,action:e,value:t},"*")})))("get_current_profile").catch((()=>null)).then(ut),Ce(ge,(({sound:e,type:t,speed:n,playbackStrategy:r})=>{if(o(lt)){const o=Be(),a=it(lt,N,t,n,o),i=it(lt,F,t,n,o);a&&ne(N,a.value,e,r,a.isRelative,S),i&&ne(F,i.value,e,r,i.isRelative,S)}}))}();
