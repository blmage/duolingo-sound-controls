!function(){"use strict";const e=()=>{},t=e=>"number"==typeof e&&Number.isFinite(e),n=e=>"string"==typeof e,r=Array.isArray,o=e=>"object"==typeof e&&!!e&&!r(e),a=e=>"function"==typeof e,i=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l=e=>{for(let t in e)if(i(e,t))return!1;return!0},u=e=>{let t=null;if("/"===e.charAt(0)&&("/"===e.charAt(1)?e=`https://${e}`:t=e),null===t)try{t=new URL(e).pathname}catch(n){t=e}return t},s=e=>`__duo-toolbox__-${e}`,c=s("global_variables"),d=(e,t)=>(o(window[c])||(window[c]={}),i(window[c],e)?window[c][e]:t),f=(e,t)=>{o(window[c])||(window[c]={}),window[c][e]=t},p=(e,t,n)=>{const r=t(d(e,n));return f(e,r),r},v=s("original_function"),_=s("override_version"),h=(t,n,r,l=1)=>((e,t,n,r,o=1)=>{i(window,e)&&t(window[e])?n(window[e]):p("pending_global_listeners",((a={})=>{var i;if(!a[e]){a[e]={};let n=window[e];Object.defineProperty(window,e,{get:()=>n,set:r=>{t(r)?(Object.defineProperty(window,e,{value:r,configurable:!0,enumerable:!0,writable:!0}),Object.values(a[e]).forEach((e=>e.callback(r)))):n=r},configurable:!0})}return o>(Number(null===(i=a[e][r])||void 0===i?void 0:i.version)||0)&&(a[e][r]={callback:n,version:o}),a}))})(t,a,(t=>((t,n,r,a=1)=>{var i;if(o(t)&&a>(Number(null===(i=t[n])||void 0===i?void 0:i[_])||0)){var l;const o=(null===(l=t[n])||void 0===l?void 0:l[v])||t[n]||e;t[n]=r(o),t[n][v]=o,t[n][_]=a}})(null==t?void 0:t.prototype,n,r,l)),`instance_method:${n}`,l),y=s("logging_iframe"),g=s("action_request"),m=s("action_result"),b=s("background_event_notification"),w=()=>(()=>{let e=document.getElementById(y);return e&&e.isConnected||(e=document.createElement("iframe"),e.id=y,e.style.display="none",document.body.appendChild(e)),e})().contentWindow.console,j=(...e)=>w().error(...e),O="characterIntro",x="characterMatch",k="characterSelect",A="listen",z="listenComprehension",K="listenTap",T="selectPronunciation",$="selectTranscription",E=[O,x,k,"completeReverseTranslation","definition","dialogue","form","freeResponse","gapFill","judge",A,z,K,"name","readComprehension","select",T,$,"speak","tapCloze","tapClozeTable","tapComplete","tapCompleteTable","tapDescribe","translate","typeCloze","typeClozeTable","typeCompleteTable"],L=[O,x,k,T,$],M=[...[O,T,$],...[A,z,K]],R=e=>{var t,n;return(null===(t=e.metadata)||void 0===t?void 0:t.source_language)||e.sourceLanguage||(null===(n=e.metadata)||void 0===n?void 0:n.learning_language)},S=e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.target_language)||e.targetLanguage||R(e)},C="none",V=Number.MAX_SAFE_INTEGER,N=Math.round(V/4),q="effect",P="tts_sentence",U="tts_word",I="tts_morpheme",F="unknown",D="normal",B="slow",H="audio",Q="howler",X=[H,Q],G="rate",W="volume",J=s("forced_setting"),Y=e=>o(e)&&!!e[J],Z=e=>e.value,ee=e=>({[J]:!0,value:e}),te=(e,n)=>G===e&&t(n)||W===e&&n>=0&&n<=1,ne=(e,n)=>((e,t,n,r=1)=>{if(!o(e))return;const a=s(`${t}_override_version`);r>(Number(e[a])||0)&&Object.defineProperty(e,t,n(Object.getOwnPropertyDescriptor(e,t)))})(HTMLMediaElement,n,(n=>({...n,set:function(r){const o=ae[e];t(r)?(this[o.originalValueKey]=r,i(this,o.valueKey)&&(r=this[o.isRelativeKey]?ue(e,r*this[o.valueKey]):this[o.valueKey])):Y(r)&&(r=Z(r)),t(r)&&(this[o.listenerValueKey]=r),n.set.call(this,r)}}))),re=(e,t)=>h("Howl",t,(n=>function(){const r=this,o=arguments,a=ae[e];let l=!1;const u=r._queue.length;(1===o.length||2===o.length&&void 0===o[1])&&-1===r._getSoundIds().indexOf(o[0])&&(Y(o[0])?(l=!0,o[0]=Z(o[0])):te(e,o[0])&&(r[a.originalValueKey]=o[0],i(r,a.valueKey)&&(l=!0,r[a.isRelativeKey]?o[0]=ue(e,o[0]*r[a.valueKey]):o[0]=r[a.valueKey])),l&&(r[a.listenerValueKey]=o[0]));const s=n.apply(r,arguments);return l&&u<r._queue.length&&(r._queue[r._queue.length-1].action=function(){o[0]=ee(o[0]),r[t](...o)}),s})),oe=(e,t,n,r)=>({...r,functions:{[H]:{applyOverride:()=>ne(e,n),getter:e=>e[t],setter:(e,n)=>e[t]=n,hasQueuedUpdate:()=>!1},[Q]:{applyOverride:()=>re(e,n),getter:e=>e[n](),setter:(e,t)=>e[n](t),hasQueuedUpdate:e=>e._queue.find((e=>e.event===n))}},priorityKey:s(`${e}_priority`),isRelativeKey:s(`${e}_is_relative`),valueKey:s(`forced_${e}_value`),originalValueKey:s(`original_${e}_value`),listenerValueKey:s(`${e}_value`)}),ae={[G]:oe(G,"playbackRate","rate",{minValue:.5,maxValue:4,defaultValue:1}),[W]:oe(W,"volume","volume",{minValue:0,maxValue:1,defaultValue:1})},ie=e=>{const t=ae[e];if(!t)throw new Error(`Unknown sound setting: "${e}".`);return t},le=e=>ie(e).defaultValue,ue=(e,t)=>ae[e]?Math.max(ae[e].minValue,Math.min(t,ae[e].maxValue)):t,se=(e,t,n,r,o=!1,a=1)=>{const l=ie(e);if(a>=(Number(n[l.priorityKey])||0)){const u=ue(e,t),s=((e,t)=>{if(-1===X.indexOf(t))throw new Error(`Unknown sound playback strategy: "${t}".`);return ie(e).functions[t]})(e,r);s.applyOverride(),n[l.valueKey]=u,n[l.priorityKey]=a,n[l.isRelativeKey]=o,i(n,l.originalValueKey)||(n[l.originalValueKey]=s.getter(n)),s.hasQueuedUpdate(n)||s.setter(n,ee(ue(e,u*(o?n[l.originalValueKey]:1))))}},ce="event_listeners",de=()=>{return`__listener::${e="last_event_listener_id",p(`__counter::${e}__`,(e=>e+1),0)}__`;var e},fe=e=>{var t;return(null===(t=d(ce,{}))||void 0===t?void 0:t[e])||{}},pe=(e,t)=>{p(ce,(n=>Object.assign(n||{},{[e]:t})))},ve=e=>!l(fe(e)),_e=(e,t)=>{const n=fe(e);return l(n)?null:t(Object.values(n))},he=(e,t,n=de())=>{const r=fe(e);return r[n]=t,pe(e,r),()=>ge(e,n)},ye=(e,t,n,o,a=he,i=de())=>{const l=`__${t}::${e}__`;var u;u=l,fe(t)[u]||a(t,((...t)=>{const n=o(...t);r(n)&&me(e,...n)}),l);const s=he(e,n,i);return()=>{s(),ve(e)||ge(t,l)}},ge=(e,t)=>{const n=fe(e);delete n[t],pe(e,n)},me=(e,...t)=>_e(e,(e=>e.flatMap((e=>{try{return[e(...t)]}catch(e){return[]}})))),be="practice_session_loaded",we="story_loaded",je="alphabets_loaded",Oe="forum_discussion_loaded",xe="dictionary_lexeme_loaded",ke="sound_playback_requested",Ae="sound_playback_confirmed",ze="sound_playback_cancelled",Ke={[je]:/\/[\d]{4}-[\d]{2}-[\d]{2}\/alphabets\/courses\/(?<toLanguage>[^/]+)\/(?<fromLanguage>[^/]+)\//g,[xe]:/\/api\/1\/dictionary_page/g,[Oe]:/\/comments\/([\d]+)/g,[be]:/\/[\d]{4}-[\d]{2}-[\d]{2}\/sessions/g,[we]:/\/api2\/stories/g,user_data_loaded:/\/[\d]{4}-[\d]{2}-[\d]{2}\/users\/[\d]+/g},Te=(e,t,n=de())=>(h("XMLHttpRequest","open",(e=>function(t,n,r,a,i){let l,u;for(const[e,t]of Object.entries(Ke))if(u=n.matchAll(t),Array.from(u).length>0){l=e;break}return l&&_e(l,(e=>{this.addEventListener("load",(()=>{try{const t=o(this.response)?this.response:JSON.parse(this.responseText);e.forEach((e=>e(t,u.groups||{})))}catch(e){j(e,`Could not handle the XHR result (event: ${l}): `)}}))})),e.call(this,t,n,r,a,i)}),2),he(e,t,n)),$e=(e,t)=>({url:e,type:P,speed:D,language:t}),Ee=(e,t)=>({url:e,type:U,speed:D,language:t}),Le=(e,t)=>({url:e,type:I,speed:D,language:t}),Me=Object.fromEntries(["/sounds/7abe057dc8446ad325229edd6d8fd250.mp3","/sounds/2aae0ea735c8e9ed884107d6f0a09e35.mp3","/sounds/421d48c53ad6d52618dba715722278e0.mp3","/sounds/37d8f0b39dcfe63872192c89653a93f6.mp3","/sounds/0a27c1ee63dd220647e8410a0029aed2.mp3","/sounds/a28ff0a501ef5f33ca78c0afc45ee53e.mp3","/sounds/2e4669d8cf839272f0731f8afa488caf.mp3","/sounds/f0b6ab4396d5891241ef4ca73b4de13a.mp3"].map((e=>{return[e,(t=e,{url:t,type:q,speed:D,language:null})];var t}))),Re=/\/duolingo-data\/tts\/(?<language>[a-z-_]+)\/token\//i,Se="sound_type_map",Ce=()=>d(Se,Me),Ve=[F,P,U,I,q],Ne=[D,B],qe=(e,t)=>((e,t,n)=>{for(const r of e){const e=Number(r(t,n));if(!isNaN(e)&&0!==e)return e}return 0})([(e,t)=>Ve.indexOf(e.type)-Ve.indexOf(t.type),(e,t)=>Ne.indexOf(e.speed)-Ne.indexOf(t.speed)],e,t),Pe=e=>{const t=Ce()||{};for(const n of e){const e=u(n.url);(!t[e]||qe(n,t[e])>0)&&(t[e]=n)}f(Se,t)},Ue="sound_detection_listeners_version",Ie="sound_detection_unregistration_callbacks",Fe=(e,t,n)=>{var r;return{url:e.url,type:t,speed:(null===(r=e.speed)||void 0===r?void 0:r.value)||D,language:n}},De=()=>{const e=2<=(Number(d(Ue))||0);var t,a,i,l,u,s;!!d(Ie)&&e||(e||Be(),f(Ue,2),f(Ie,[(s=e=>(e=>{const t=e.learningLanguage;r(null==e?void 0:e.elements)&&Pe(e.elements.map((e=>{var t;return(null==e||null===(t=e.line)||void 0===t?void 0:t.content)||(null==e?void 0:e.learningLanguageTitleContent)})).flatMap((e=>[null==e?void 0:e.audio,null==e?void 0:e.audioPrefix,null==e?void 0:e.audioSuffix])).map((e=>null==e?void 0:e.url)).filter(n).map((e=>$e(e,t))))})(e),Te(we,s)),(l=(e,t)=>((e,t)=>{const o=t.toLanguage;r(null==e?void 0:e.alphabets)&&n(null==t?void 0:t.toLanguage)&&Pe(e.alphabets.flatMap((e=>null==e?void 0:e.groups)).flatMap((e=>null==e?void 0:e.characters)).flat().map((e=>null==e?void 0:e.ttsUrl)).filter(n).map((e=>Le(e,o))))})(e,t),Te(je,l,u)),(i=e=>{var t;n(null==(t=e)?void 0:t.tts_url)&&Pe([$e(t.tts_url,t.sentence_language)])},Te(Oe,i)),(a=e=>(e=>{const t=[],o=e.learning_language;n(e.tts)&&t.push(Ee(e.tts,o)),r(e.alternative_forms)&&t.push(e.alternative_forms.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>$e(e,o)))),Pe(t.flat())})(e),Te(xe,a)),(t=e=>(e=>{const t=[];for(const u of e){var a;const e=u.type,s=R(u),c=S(u);if(n(u.tts)){const n=L.indexOf(e)>=0?Le:$e;t.push(n(u.tts,s))}if(n(u.slowTts)&&t.push({url:u.slowTts,type:P,speed:B,language:s}),n(u.solutionTts)&&t.push($e(u.solutionTts,c)),r(u.choices)){const r=-1===L.indexOf(e)?Ee:Le;t.push(u.choices.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>r(e,c))))}if(r(u.tokens)&&t.push(u.tokens.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>Ee(e,s)))),r(u.questionTokens)&&t.push(u.questionTokens.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>Ee(e,c)))),r(null===(a=u.metadata)||void 0===a?void 0:a.speakers))for(const e of u.metadata.speakers){var i,l;o(null===(i=e.tts)||void 0===i?void 0:i.tokens)&&t.push(Object.values(e.tts.tokens).filter((e=>n(e.url))).map((e=>Fe(e,U,c)))),r(null===(l=e.tts)||void 0===l?void 0:l.sentence)&&t.push(e.tts.sentence.filter((e=>n(e.url))).map((e=>Fe(e,P,c))))}if(r(u.pairs)){const r=-1===L.indexOf(e)?Ee:Le;t.push(u.pairs.map((e=>null==e?void 0:e.tts)).filter(n).map((e=>r(e,c))))}}Pe(t.flat())})(e.challenges),ye("practice_challenges_loaded",be,t,(e=>{let t;var n;o(e)&&(t=[{challenges:[e.challenges,e.adaptiveChallenges,null===(n=e.adaptiveInterleavedChallenges)||void 0===n?void 0:n.challenges].filter(r).flat(),sessionMetaData:e.metadata||{}}]);return t}),Te))]))},Be=()=>{const e=d(Ie);!r(e)||ve("sound_initialized")||ve(ke)||ve(ze)||ve(Ae)||(e.forEach((e=>e())),f(Ue,null),f(Ie,null))},He=(e,t,n)=>{const r=(e=>{const t=Ce()[e];if(o(t))return t;const n=e.match(Re);return n?Ee(e,n.language):null})(u(t));return{url:t,type:(null==r?void 0:r.type)||F,speed:(null==r?void 0:r.speed)||D,language:null==r?void 0:r.language,playbackStrategy:n,sound:e}},Qe=(e,t)=>{h("Howl","play",(e=>function(t){var n;f("is_howler_used",!0);const r=String(this._src||(null===(n=this._parent)||void 0===n?void 0:n._src)||"").trim();return""!==r?((e,t,n,r)=>{const o=He(e,t,n);let a=!1;try{var i;a=null===(i=me(ke,o))||void 0===i?void 0:i.some((e=>!1===e)),me(a?ze:Ae,o)}catch(e){j(e,`Could not handle playback for sound "${t}" (using "${n}"): `)}return a?null:r()})(this,r,Q,(()=>e.call(this,t))):e.call(this,t)})),De();const n=he(e,t);return()=>{n(),Be()}},Xe="challenge",Ge="story",We="forum_discussion",Je="characters",Ye="dictionary",Ze="unknown",et=/duolingo\.com\/stories\/(?<story_key>[^/]+)/,tt=/forum\.duolingo\.com\/comment\/(?<comment_id>[\d]+)/,nt=/duolingo\.com\/characters\/?/,rt=/duolingo\.com\/dictionary\/(?<language>.+)\/(?<lexeme>.+)\/(?<lexeme_id>[\w]+)\/?/,ot="listening_challenge",at="other_challenge",it=[ot,at,Ge,We,Ye,Je,Ze],lt=()=>{const e=(()=>{const e=document.location.href;let t=e.match(tt);if(r(t))return{type:We,commentId:Number(t.comment_id)||null};var n;if(t=e.match(et),r(t)||document.querySelector('[data-test="stories-element"]'))return{type:Ge,storyKey:null===(n=t)||void 0===n?void 0:n.story_key};if(e.match(nt))return{type:Je};if(t=e.match(rt),r(t))return{type:Ye,languageName:t.language,lexeme:t.lexeme,lexemeId:t.lexeme_id};const o=document.querySelector('[data-test*="challenge"]');if(o){let e=null;for(const t of(null===(a=o.getAttribute("data-test"))||void 0===a?void 0:a.split(/\s+/))||[]){var a,i;const n=null===(i=t.match(/challenge-(?<type>[a-z]+)/i))||void 0===i?void 0:i.groups.type.trim();if(E.indexOf(n)>=0){e=n;break}}let t=C;const n=document.querySelector("._2Fc1K ._1tuLI");return n&&(t=n.classList.contains("_3e9O1")?"correct":"incorrect"),{type:Xe,challengeType:e,result:t,isCompleted:C!==t}}return{type:Ze}})();let t=e.type;return Xe===t&&(t=-1===M.indexOf(e.challengeType)?at:ot),t};var ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},st={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object Object]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[o]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s[a]=s["[object Map]"]=s["[object Number]"]=s[i]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var c="object"==typeof ut&&ut&&ut.Object===Object&&ut,d="object"==typeof self&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),p=t&&!t.nodeType&&t,v=p&&e&&!e.nodeType&&e,_=v&&v.exports===p,h=_&&c.process,y=function(){try{var e=v&&v.require&&v.require("util").types;return e||h&&h.binding&&h.binding("util")}catch(e){}}(),g=y&&y.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var b,w,j,O=Array.prototype,x=Function.prototype,k=Object.prototype,A=f["__core-js_shared__"],z=x.toString,K=k.hasOwnProperty,T=(b=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",$=k.toString,E=z.call(Object),L=RegExp("^"+z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=_?f.Buffer:void 0,R=f.Symbol,S=f.Uint8Array,C=M?M.allocUnsafe:void 0,V=(w=Object.getPrototypeOf,j=Object,function(e){return w(j(e))}),N=Object.create,q=k.propertyIsEnumerable,P=O.splice,U=R?R.toStringTag:void 0,I=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),F=M?M.isBuffer:void 0,D=Math.max,B=Date.now,H=ve(f,"Map"),Q=ve(Object,"create"),X=function(){function e(){}return function(t){if(!Ae(t))return{};if(N)return N(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new W(e);this.size=t.size}function Z(e,t){var n=we(e),r=!n&&be(e),o=!n&&!r&&Oe(e),a=!n&&!r&&!o&&Ke(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=l.length;for(var s in e)!t&&!K.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_e(s,u))||l.push(s);return l}function ee(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&re(e,t,n)}function te(e,t,n){var r=e[t];K.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||re(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&I?I(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===n?void 0:r}return K.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:K.call(t,e)},G.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q&&void 0===t?n:t,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():P.call(t,n,1),--this.size,!0)},W.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},W.prototype.has=function(e){return ne(this.__data__,e)>-1},W.prototype.set=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(H||W),string:new G}},J.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return pe(this,e).get(e)},J.prototype.has=function(e){return pe(this,e).has(e)},J.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new W,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var oe,ae=function(e,t,n){for(var r=-1,o=Object(e),a=n(e),i=a.length;i--;){var l=a[oe?i:++r];if(!1===t(o[l],l,o))break}return e};function ie(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=K.call(e,U),n=e[U];try{e[U]=void 0;var r=!0}catch(e){}var o=$.call(e);r&&(t?e[U]=n:delete e[U]);return o}(e):function(e){return $.call(e)}(e)}function le(e){return ze(e)&&ie(e)==o}function ue(e){return!(!Ae(e)||function(e){return!!T&&T in e}(e))&&(xe(e)?L:l).test(function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function se(e){if(!Ae(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=he(e),n=[];for(var r in e)("constructor"!=r||!t&&K.call(e,r))&&n.push(r);return n}function ce(e,t,n,r,o){e!==t&&ae(t,(function(a,l){if(o||(o=new Y),Ae(a))!function(e,t,n,r,o,a,l){var u=ye(e,n),s=ye(t,n),c=l.get(s);if(c)return void ee(e,n,c);var d=a?a(u,s,n+"",e,t,l):void 0,f=void 0===d;if(f){var p=we(s),v=!p&&Oe(s),_=!p&&!v&&Ke(s);d=s,p||v||_?we(u)?d=u:ze(b=u)&&je(b)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(u):v?(f=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=C?C(n):new e.constructor(n);return e.copy(r),r}(s,!0)):_?(f=!1,h=s,y=!0?(g=h.buffer,m=new g.constructor(g.byteLength),new S(m).set(new S(g)),m):h.buffer,d=new h.constructor(y,h.byteOffset,h.length)):d=[]:function(e){if(!ze(e)||ie(e)!=i)return!1;var t=V(e);if(null===t)return!0;var n=K.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==E}(s)||be(s)?(d=u,be(u)?d=function(e){return function(e,t,n,r){var o=!n;n||(n={});var a=-1,i=t.length;for(;++a<i;){var l=t[a],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?re(n,l,u):te(n,l,u)}return n}(e,Te(e))}(u):Ae(u)&&!xe(u)||(d=function(e){return"function"!=typeof e.constructor||he(e)?{}:X(V(e))}(s))):f=!1}var h,y,g,m;var b;f&&(l.set(s,d),o(d,s,r,a,l),l.delete(s));ee(e,n,d)}(e,t,l,n,ce,r,o);else{var u=r?r(ye(e,l),a,l+"",e,t,o):void 0;void 0===u&&(u=a),ee(e,l,u)}}),Te)}function de(e,t){return ge(function(e,t,n){return t=D(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=D(r.length-t,0),i=Array(a);++o<a;)i[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(i),m(e,this,l)}}(e,t,Le),e+"")}var fe=I?function(e,t){return I(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Le;function pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}function _e(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&u.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,n=0;return function(){var r=B(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fe);function me(e,t){return e===t||e!=e&&t!=t}var be=le(function(){return arguments}())?le:function(e){return ze(e)&&K.call(e,"callee")&&!q.call(e,"callee")},we=Array.isArray;function je(e){return null!=e&&ke(e.length)&&!xe(e)}var Oe=F||function(){return!1};function xe(e){if(!Ae(e))return!1;var t=ie(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ae(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var Ke=g?function(e){return function(t){return e(t)}}(g):function(e){return ze(e)&&ke(e.length)&&!!s[ie(e)]};function Te(e){return je(e)?Z(e,!0):se(e)}var $e,Ee=($e=function(e,t,n){ce(e,t,n)},de((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(o=$e.length>3&&"function"==typeof o?(r--,o):void 0,a&&function(e,t,n){if(!Ae(n))return!1;var r=typeof t;return!!("number"==r?je(n)&&_e(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var i=t[n];i&&$e(e,i,n,o)}return e})));function Le(e){return e}e.exports=Ee}(st,st.exports);const ct="default",dt="main",ft=[W,G],pt=e=>W===e,vt=(e,t=null,n=null)=>({[q]:{[D]:t},[P]:{[D]:t,[B]:t},[U]:{[D]:t},[I]:{[D]:t},[F]:{[D]:t},...pt(e)?{[dt]:n}:{}}),_t=(e,t)=>Object.fromEntries([[ct,vt(e,{value:t,isRelative:!0},{value:t})],...it.map((t=>[t,vt(e)]))]),ht=Object.fromEntries(ft.map((e=>[e,_t(e,le(e))]))),yt=(e,t)=>o(ht.volume.default[e][t]),gt=(e,t,n,r=!0)=>{var a,i;if(!pt(t))return;const l=null==e||null===(a=e[t])||void 0===a||null===(i=a[null!=n?n:ct])||void 0===i?void 0:i.main;return o(l)?l:null===n?{value:le(t)}:r?gt(e,t,null):null},mt=(e,t,n,r,a,i=!0)=>{var l,u,s;if(!yt(n,r))return;const c=null==e||null===(l=e[t])||void 0===l||null===(u=l[null!=a?a:ct])||void 0===u||null===(s=u[n])||void 0===s?void 0:s[r];return o(c)?c:null===a?{isRelative:!0,value:le(t)}:i?mt(e,t,n,r,null):null},bt=(e,t,n,r,o)=>{if(!yt(n,r))return;const a=mt(e,t,n,r,o);if(!pt(t))return a;const i=gt(e,t,o);return{isRelative:a.isRelative,value:i.value*a.value}};let wt=null;const jt=e=>wt=e;((e,t)=>{var n;const a=r(t)?e=>t.indexOf(e)>=0:()=>!0,i=t=>{const n=o(t.data)?t.data:t;return n&&b===n.type&&a(n.event)&&e(n.event,n.value)};"undefined"!=typeof chrome&&null!==(n=chrome.runtime)&&void 0!==n&&n.onMessage?chrome.runtime.onMessage.addListener(i):window.addEventListener("message",i)})(((e,t)=>{"current_profile_changed"===e&&jt(t)})),(async(e,t)=>new Promise(((n,r)=>{const a=t=>{t.source===window&&o(t.data)&&m===t.data.type&&e===t.data.action&&("success"===t.data.result?n(t.data.value):r(t.data.error),t.stopPropagation(),window.removeEventListener("message",a))};window.addEventListener("message",a),window.postMessage({type:g,action:e,value:t},"*")})))("get_current_profile").catch((()=>null)).then(jt),Qe(Ae,(({sound:e,type:t,speed:n,playbackStrategy:r})=>{if(o(wt)){const o=lt(),a=bt(wt,G,t,n,o),i=bt(wt,W,t,n,o);a&&se(G,a.value,e,r,a.isRelative,N),i&&se(W,i.value,e,r,i.isRelative,N)}}))}();
